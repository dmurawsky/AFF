var Rx = require('rx');
var Router = require('./src/Router');
var router = new Router([{
    route: 'videos[{integers:indices}].title',
    get: function getTitle(alias) {
        var indices = alias.indices;
        return indices.
            reduce(function(acc, index) {
                acc.push({
                    path: ['videos', index, 'title'],
                    value: 'Terminator ' + index
                });
                return acc;
            }, []);
    }
}]);


debugger
Rx.Observable.
    range(0, 10000).
    flatMap(function() {
        return router.get([['videos', {from: 0, to: 5}, 'title']]);
    }).
    subscribe(function() {}, function(e) {
        debugger
    }, function() {
        console.log('done!');
        debugger
    });

